<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Happy New Year</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">

<style>
html, body {
  margin: 0;
  padding: 0;
  background: black;
  overflow: hidden;
  height: 100%;
  font-family: 'Dancing Script', cursive;
}

canvas {
  position: fixed;
  inset: 0;
  z-index: 1;
}

#hint, #tapHint, #message, #secondMessage, #timestamp, #endBtn {
  position: fixed;
  z-index: 5;
}

/* Hints */
#hint {
  bottom: 80px;
  width: 100%;
  text-align: center;
  color: rgba(255,215,0,0.7);
  font-size: 16px;
}

#tapHint {
  bottom: 25px;
  width: 100%;
  text-align: center;
  font-size: 15px;
  color: rgba(255,215,0,0.8);
  display: none;
  animation: pulse 1.5s infinite;
}

@keyframes pulse {
  0%,100% { opacity: .4; }
  50% { opacity: 1; }
}

/* Main message */
#message {
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  color: #FFD700;
  font-size: 22px;
  padding: 30px;
  opacity: 0;
  white-space: pre-wrap;
  text-shadow: 0 0 20px rgba(255,215,0,0.6);
  transition: opacity 1s ease;
  pointer-events: none;
}

#message.show { opacity: 1; }

/* Second page */
#secondMessage {
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  font-size: 42px;
  color: #FFD700;
  opacity: 0;
  pointer-events: none;
  text-shadow: 0 0 30px rgba(255,215,0,0.8);
}

#secondMessage.show { opacity: 1; }

/* Hearts */
.heart {
  position: fixed;
  color: rgba(255,105,180,0.7);
  font-size: 20px;
  animation: float 6s infinite ease-in-out, glow 2s infinite alternate;
  z-index: 2;
}

@keyframes float {
  0% { transform: translateY(0); opacity: 0; }
  50% { opacity: 1; }
  100% { transform: translateY(-120px); opacity: 0; }
}

@keyframes glow {
  from { text-shadow: 0 0 5px pink; }
  to { text-shadow: 0 0 20px hotpink; }
}

/* Timestamp */
#timestamp {
  bottom: 20px;
  width: 100%;
  text-align: center;
  font-size: 14px;
  color: rgba(255,215,0,0.6);
}

/* End button */
#endBtn {
  bottom: 50px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 18px;
  font-size: 16px;
  color: #FFD700;
  background: rgba(0,0,0,0.6);
  border: 1px solid #FFD700;
  border-radius: 6px;
  display: none;
}
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<div id="hint">Tap anywhereeee to launch</div>
<div id="tapHint">Tap again to continue üíõ</div>

<div id="message"></div>
<div id="secondMessage"></div>

<div id="timestamp"></div>
<button id="endBtn">End</button>

<audio id="fireSound" preload="auto">
  <source src="https://www.soundjay.com/misc/sounds/fireworks-1.mp3">
</audio>

<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");
canvas.width = innerWidth;
canvas.height = innerHeight;

let rocketLaunched = false;
let readyForNext = false;
let secondPageShown = false;
let particles = [];
let rocket = null;

/* üîä AUDIO UNLOCK */
const fireSound = document.getElementById("fireSound");
let audioUnlocked = false;
function unlockAudio() {
  if (!audioUnlocked) {
    fireSound.play().then(() => {
      fireSound.pause();
      fireSound.currentTime = 0;
      audioUnlocked = true;
    }).catch(() => {});
  }
}

window.addEventListener("resize", () => {
  canvas.width = innerWidth;
  canvas.height = innerHeight;
});

/* Fireworks */
class Particle {
  constructor(x,y){
    const a=Math.random()*Math.PI*2;
    const s=Math.random()*4+2;
    this.x=x;this.y=y;
    this.vx=Math.cos(a)*s;
    this.vy=Math.sin(a)*s;
    this.alpha=1;
  }
  update(){
    this.x+=this.vx;
    this.y+=this.vy;
    this.vy+=0.04;
    this.alpha-=0.015;
  }
  draw(){
    ctx.globalAlpha=this.alpha;
    ctx.fillStyle="#FFD700";
    ctx.beginPath();
    ctx.arc(this.x,this.y,3,0,Math.PI*2);
    ctx.fill();
    ctx.globalAlpha=1;
  }
}

function explode(x,y){
  for(let i=0;i<120;i++) particles.push(new Particle(x,y));
  if (audioUnlocked) {
    fireSound.currentTime = 0;
    fireSound.play();
  }
}

function animate(){
  ctx.fillStyle="rgba(0,0,0,0.2)";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  if(rocket){
    rocket.y-=3;
    ctx.fillStyle="white";
    ctx.fillRect(rocket.x-2,rocket.y-10,4,10);
    if(rocket.y<canvas.height/3){
      explode(rocket.x,rocket.y);
      rocket=null;
      setTimeout(showMessage,800);
    }
  }

  particles=particles.filter(p=>p.alpha>0);
  particles.forEach(p=>{p.update();p.draw();});
  requestAnimationFrame(animate);
}
animate();

/* Click handling */
canvas.onclick = () => {
  unlockAudio();

  if(!rocketLaunched){
    rocketLaunched=true;
    hint.style.display="none";
    rocket={x:canvas.width/2,y:canvas.height-40};
  } else if(readyForNext && !secondPageShown){
    showSecond();
  }
};

/* MESSAGE */
const text = `Happpy New yearrrrr Riaaaa‚ù§Ô∏èüçæüéâ

I don‚Äôt wish for grand things this year. I just wish for more of us...more conversations that last longer than planned, more moments that feel simple but mean everything, more reasons to smile because you exist.

If this year taught me anything, it‚Äôs that love doesn‚Äôt have to be loud to be real.
Sometimes it‚Äôs just choosing the same person again, even as the calendar changes.

Let‚Äôs just leave all the bad stuff behind and start 2026 fresh, with more us.

Thank you for making my days and nights happier.
So here‚Äôs to a new year‚Ä¶one I‚Äôm grateful to begin with you in my heart.

This is the least i could do for U...

With Love‚ù§Ô∏è,
Aaron`;

function showMessage(){
  message.classList.add("show");
  let i=0;
  function type(){
    if(i<text.length){
      message.textContent+=text[i++];
      setTimeout(type,55);
    } else {
      setTimeout(()=>{
        tapHint.style.display="block";
        readyForNext=true;
      },600);
    }
  }
  type();
}

/* SECOND PAGE */
function showSecond(){
  if(secondPageShown) return;
  secondPageShown=true;

  tapHint.style.display="none";
  message.style.display="none";

  secondMessage.textContent=`I LOVE YOU SOOO MUCHHH ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è I hope u love me as well..Tysm for keeping up with meüò≠
    pls talk to me like u used to`;
  secondMessage.classList.add("show");

  spawnHearts();
  setTimeout(()=>endBtn.style.display="block",6000);
}

/* Hearts spawn once */
function spawnHearts(){
  for(let i=0;i<35;i++){
    const h=document.createElement("div");
    h.className="heart";
    h.textContent="‚ù§";
    h.style.left=Math.random()*100+"vw";
    h.style.bottom=Math.random()*100+"vh";
    h.style.animationDelay=Math.random()*5+"s";
    document.body.appendChild(h);
  }
}

/* Time */
setInterval(()=>{
  timestamp.textContent=new Date().toLocaleString();
},1000);

endBtn.onclick=()=>location.reload();
</script>

</body>
</html>
